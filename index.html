<!DOCTYPE html>
  <html>
    <head>
      <meta charset="utf-8">
      <title>AngularTS</title>
      <link rel="shortcut icon" type="image/png" href="images/favicon.ico">
      <script type="module" src="/src/index.js"></script>
      <script> document.addEventListener("DOMContentLoaded", () => {
          class Todo {
            constructor(task) {
              this.task = task;
              this.done = false;
            }
          }
          class TodoController {
            constructor($rootScope) {
              this.counter = 1
              setTimeout(() => this.counter++, 10)
              this.greeting = "Todos";
              this.tasks = [
                new Todo("Learn AngularTS"),
                new Todo("Build an AngularTS app"),
              ];
              window.test = this
            }

            increase() {

              this.counter++
            }

            /**
             * @param {String} task
             * @return {void}
             */
            add(task) {
              this.tasks.push(new Todo(task));
            }

            /**
             * Delete all finished tasks
             * @return {void}
             */
            archive() {
              this.tasks = this.tasks.filter((task) => !task.done);
            }
          }

          class Demo {
            constructor() {
              this.test = "DemoCtrl"
            }
          }
          window.angular.module("todo", [])
            .controller("TodoCtrl", TodoController).controller("DemoCtrl", Demo);
        });
      </script>
    </head>
    <body ng-app="todo" ng-init="demo = 2" ng-cloak>
      {{ demo }}
      <div id="1" ng-init="demo = 2" ng-controller="DemoCtrl as demo">
        {{ test }} 
        {{ demo }}
        <div id="2" ng-controller="TodoCtrl">
          {{ counter }} 
          {{ counter2 }} 
        </div>

      {{ test }}
    </div>
    </body>
</html>
